<!DOCTYPE html>
<html>
  <head>
    <title>Download Files</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
      }
      h1 {
        text-align: center;
      }
      form {
        margin: 0 auto;
        max-width: 600px;
      }
      label {
        display: block;
        margin-bottom: 5px;
      }
      textarea {
        width: 100%;
        height: 200px;
        resize: vertical;
      }
      button {
        margin-top: 10px;
        padding: 5px 10px;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      button:hover {
        background-color: #3e8e41;
      }
    </style>
  </head>
  <body>
    <h1>Downloader</h1>
    <form>
      <label for="urls">Enter URLs to download (one per line):</label>
      <br>
      <textarea id="urls" name="urls"></textarea>
      <br>
      <button type="button" onclick="downloadFiles()">Download</button>
    </form>
<script>
  function downloadFiles() {
  // Get the URLs from the text input
  var urls = document.getElementById("urls").value.split("\n");

  // Loop through the URLs and download each file
  for (var i = 0; i < urls.length; i++) {
    var url = urls[i].trim();
    var filename = url.substring(url.lastIndexOf("/") + 1).split("?")[0];
    var extension = filename.substring(filename.lastIndexOf(".") + 1);

    // Create a new XHR object
    var xhr = new XMLHttpRequest();

    // Set the responseType to "blob" for binary data
    xhr.responseType = "blob";

    // Define the onload event handler
    xhr.onload = function(event) {
      // Get the blob object from the response
      var blob = xhr.response;

      // Create a new anchor element to initiate the download
      var anchor = document.createElement("a");
      anchor.style.display = "none";
      anchor.href = URL.createObjectURL(blob);
      anchor.download = filename;

      // Set the Content-Disposition header to force the download
      var headers = xhr.getAllResponseHeaders();
      var contentDisposition = headers.match(/Content-Disposition\:\s*attachment/);
      if (contentDisposition) {
        anchor.setAttribute("download", filename);
        document.body.appendChild(anchor);
        anchor.click();
        document.body.removeChild(anchor);
      } else {
        window.open(url, "_blank");
      }
    };

    // Open the XHR request
    xhr.open("GET", url);

    // Send the XHR request
    xhr.send();
  }
}
</script>

  </body>
</html>
